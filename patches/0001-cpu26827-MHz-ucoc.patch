From 8e3c13c7ae8c7174083c3bb0a4cbd57c52530e3c Mon Sep 17 00:00:00 2001
From: mostafa-z <mostafazarghami@gmail.com>
Date: Sun, 7 Jun 2015 00:33:26 +0430
Subject: [PATCH] cpu:268~2.7 MHz uc/oc

---
 arch/arm/boot/dts/msm8974.dtsi    |   7 ++++++-
 arch/arm/boot/dts/msm8974pro.dtsi | 113 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 102 insertions(+), 18 deletions(-)

diff --git a/arch/arm/boot/dts/msm8974.dtsi b/arch/arm/boot/dts/msm8974.dtsi
index 495117f..3ac309a 100644
--- a/arch/arm/boot/dts/msm8974.dtsi
+++ b/arch/arm/boot/dts/msm8974.dtsi
@@ -1568,6 +1568,7 @@
 		reg = <0 4>;
 		compatible = "qcom,msm-cpufreq";
 		qcom,cpufreq-table =
+			<  268000  268000  381 >,
 			<  300000  300000  572 >,
 			<  422400  422400 1144 >,
 			<  652800  499200 1525 >,
@@ -1582,7 +1583,11 @@
 			< 1728000 1651200 6103 >,
 			< 1958400 1728000 7102 >,
 			< 2265600 1728000 7102 >,
-			< 2457600 1728000 7102 >;
+			< 2457600 1728000 7102 >,
+			< 2534400 1728000 7102 >,
+			< 2611200 1728000 7102 >,
+			< 2688000 1728000 7102 >,
+			< 2764800 1728000 7102 >;
 	};
 
 	usb3: qcom,ssusb@f9200000 {
diff --git a/arch/arm/boot/dts/msm8974pro.dtsi b/arch/arm/boot/dts/msm8974pro.dtsi
index 509c82f..3d22d84 100644
--- a/arch/arm/boot/dts/msm8974pro.dtsi
+++ b/arch/arm/boot/dts/msm8974pro.dtsi
@@ -1005,7 +1005,7 @@
 			< 2265600000  970000  738 >;
 
 		qcom,speed3-pvs0-bin-v1 =
-			<          0       0    0 >,
+		        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1036,10 +1036,15 @@
 			< 2265600000 1085000  716 >,
 			< 2342400000 1100000  751 >,
 			< 2419200000 1115000  786 >,
-			< 2457600000 1120000  802 >;
+			< 2457600000 1120000  802 >,
+			< 2534400000 1135000  837 >,
+			< 2611200000 1150000  872 >,
+			< 2688000000 1165000  907 >,
+			< 2764800000 1180000  942 >;
 
 		qcom,speed3-pvs1-bin-v1 =
 			<          0       0    0 >,
+         	        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1070,10 +1075,15 @@
 			< 2265600000 1075000  716 >,
 			< 2342400000 1090000  751 >,
 			< 2419200000 1105000  786 >,
-			< 2457600000 1110000  802 >;
+			< 2457600000 1110000  802 >,
+			< 2534400000 1125000  837 >,
+			< 2611200000 1140000  872 >,
+			< 2688000000 1155000  907 >,
+			< 2764800000 1170000  942 >;
 
 		qcom,speed3-pvs2-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1104,10 +1114,15 @@
 			< 2265600000 1065000  716 >,
 			< 2342400000 1080000  751 >,
 			< 2419200000 1095000  786 >,
-			< 2457600000 1100000  802 >;
+			< 2457600000 1100000  802 >,
+			< 2534400000 1115000  837 >,
+			< 2611200000 1130000  872 >,
+			< 2688000000 1145000  907 >,
+			< 2764800000 1160000  942 >;
 
 		qcom,speed3-pvs3-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1138,10 +1153,15 @@
 			< 2265600000 1055000  716 >,
 			< 2342400000 1070000  751 >,
 			< 2419200000 1085000  786 >,
-			< 2457600000 1090000  802 >;
+			< 2457600000 1090000  802 >,
+			< 2534400000 1105000  837 >,
+			< 2611200000 1120000  872 >,
+			< 2688000000 1135000  907 >,
+			< 2764800000 1150000  942 >;
 
 		qcom,speed3-pvs4-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1172,10 +1192,15 @@
 			< 2265600000 1045000  716 >,
 			< 2342400000 1060000  751 >,
 			< 2419200000 1075000  786 >,
-			< 2457600000 1080000  802 >;
+			< 2457600000 1080000  802 >,
+			< 2534400000 1095000  837 >,
+			< 2611200000 1110000  872 >,
+			< 2688000000 1125000  907 >,
+			< 2764800000 1140000  942 >;
 
 		qcom,speed3-pvs5-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  800000   76 >,
 			<  345600000  800000   87 >,
 			<  422400000  800000  106 >,
@@ -1206,10 +1231,15 @@
 			< 2265600000 1035000  716 >,
 			< 2342400000 1050000  751 >,
 			< 2419200000 1065000  786 >,
-			< 2457600000 1070000  802 >;
+			< 2457600000 1070000  802 >,
+			< 2534400000 1085000  837 >,
+			< 2611200000 1100000  872 >,
+			< 2688000000 1115000  907 >,
+			< 2764800000 1130000  942 >;
 
 		qcom,speed3-pvs6-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1240,10 +1270,15 @@
 			< 2265600000 1025000  716 >,
 			< 2342400000 1040000  751 >,
 			< 2419200000 1055000  786 >,
-			< 2457600000 1060000  802 >;
+			< 2457600000 1060000  802 >,
+			< 2534400000 1075000  837 >,
+			< 2611200000 1090000  872 >,
+			< 2688000000 1105000  907 >,
+			< 2764800000 1120000  942 >;
 
 		qcom,speed3-pvs7-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1274,10 +1309,15 @@
 			< 2265600000 1015000  716 >,
 			< 2342400000 1030000  751 >,
 			< 2419200000 1045000  786 >,
-			< 2457600000 1050000  802 >;
+			< 2457600000 1050000  802 >,
+			< 2534400000 1065000  837 >,
+			< 2611200000 1080000  872 >,
+			< 2688000000 1095000  907 >,
+			< 2764800000 1110000  942 >;
 
 		qcom,speed3-pvs8-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1308,10 +1348,15 @@
 			< 2265600000 1005000  716 >,
 			< 2342400000 1020000  751 >,
 			< 2419200000 1035000  786 >,
-			< 2457600000 1040000  802 >;
+			< 2457600000 1040000  802 >,
+			< 2534400000 1055000  837 >,
+			< 2611200000 1070000  872 >,
+			< 2688000000 1085000  907 >,
+			< 2764800000 1100000  942 >;
 
 		qcom,speed3-pvs9-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1342,10 +1387,15 @@
 			< 2265600000  995000  716 >,
 			< 2342400000 1010000  751 >,
 			< 2419200000 1025000  786 >,
-			< 2457600000 1030000  802 >;
+			< 2457600000 1030000  802 >,
+			< 2534400000 1045000  837 >,
+			< 2611200000 1060000  872 >,
+			< 2688000000 1075000  907 >,
+			< 2764800000 1090000  942 >;
 
 		qcom,speed3-pvs10-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1376,10 +1426,15 @@
 			< 2265600000  985000  716 >,
 			< 2342400000 1000000  751 >,
 			< 2419200000 1015000  786 >,
-			< 2457600000 1020000  802 >;
+			< 2457600000 1020000  802 >,
+			< 2534400000 1035000  837 >,
+			< 2611200000 1050000  872 >,
+			< 2688000000 1065000  907 >,
+			< 2764800000 1080000  942 >;
 
 		qcom,speed3-pvs11-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1410,10 +1465,15 @@
 			< 2265600000  975000  716 >,
 			< 2342400000  990000  751 >,
 			< 2419200000 1005000  786 >,
-			< 2457600000 1010000  802 >;
+			< 2457600000 1010000  802 >,
+			< 2534400000 1025000  837 >,
+			< 2611200000 1040000  872 >,
+			< 2688000000 1055000  907 >,
+			< 2764800000 1070000  942 >;
 
 		qcom,speed3-pvs12-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1444,10 +1504,15 @@
 			< 2265600000  965000  716 >,
 			< 2342400000  980000  751 >,
 			< 2419200000  995000  786 >,
-			< 2457600000 1000000  802 >;
+			< 2457600000 1000000  802 >,
+			< 2534400000 1015000  837 >,
+			< 2611200000 1030000  872 >,
+			< 2688000000 1045000  907 >,
+			< 2764800000 1060000  942 >;
 
 		qcom,speed3-pvs13-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  775000   76 >,
 			<  345600000  775000   87 >,
 			<  422400000  775000  106 >,
@@ -1478,10 +1543,15 @@
 			< 2265600000  955000  716 >,
 			< 2342400000  970000  751 >,
 			< 2419200000  985000  786 >,
-			< 2457600000  990000  802 >;
+			< 2457600000  990000  802 >,
+			< 2534400000 1005000  837 >,
+			< 2611200000 1020000  872 >,
+			< 2688000000 1035000  907 >,
+			< 2764800000 1050000  942 >;
 
 		qcom,speed3-pvs14-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  750000   76 >,
 			<  345600000  750000   87 >,
 			<  422400000  750000  106 >,
@@ -1512,10 +1582,15 @@
 			< 2265600000  945000  716 >,
 			< 2342400000  960000  751 >,
 			< 2419200000  975000  786 >,
-			< 2457600000  980000  802 >;
+			< 2457600000  980000  802 >,
+			< 2534400000  995000  837 >,
+			< 2611200000 1010000  872 >,
+			< 2688000000 1025000  907 >,
+			< 2764800000 1040000  942 >;
 
 		qcom,speed3-pvs15-bin-v1 =
 			<          0       0    0 >,
+                        <  268000000  775000   76 >,
 			<  300000000  750000   76 >,
 			<  345600000  750000   87 >,
 			<  422400000  750000  106 >,
@@ -1546,7 +1621,11 @@
 			< 2265600000  935000  716 >,
 			< 2342400000  950000  751 >,
 			< 2419200000  965000  786 >,
-			< 2457600000  970000  802 >;
+			< 2457600000  970000  802 >,
+			< 2534400000  985000  837 >,
+			< 2611200000 1000000  872 >,
+			< 2688000000 1015000  907 >,
+			< 2764800000 1030000  942 >;
 	};
 
 	i2c@f9928000 { /* BLSP-1 QUP-6 */
--
libgit2 0.22.0

